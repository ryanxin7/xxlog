export const data = JSON.parse("{\"key\":\"v-070e3d0e\",\"path\":\"/ceph/log/9.%20ceph-crush%E8%BF%9B%E9%98%B6.html\",\"title\":\"9.Ceph crush算法进阶\",\"lang\":\"zh-CN\",\"frontmatter\":{\"Author\":\"Ryan\",\"title\":\"9.Ceph crush算法进阶\",\"tag\":[\"分布式存储\"],\"category\":[\"Ceph\"],\"date\":\"2023-01-07T12:12:22.000Z\",\"lastUpdated\":true,\"breadcrumb\":false,\"description\":\"场景：集群内有固态和机械硬盘 如何让不重要的业务放到机械盘。 Ceph 集群中由 mon 服务器维护的的五种运行图: Monitor map 监视器运行图 OSD map OSD运行图 各个每隔6s汇报状态同时监控其他OSD的状态，超过20秒就会被踢出去 PG map PG运行图 （一个存储池有哪些pg） Crush map (Controllers replication under scalable hashing) 可控的、可复制的、可伸缩的一致性hash算法。crush运行图，当新建存储池时会基于OSD map创建出新的PG组合列表用于存储数据 MDS map cephfs metadata运行图\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://vuepress-theme-hope-docs-demo.netlify.app/ceph/log/9.%20ceph-crush%E8%BF%9B%E9%98%B6.html\"}],[\"meta\",{\"property\":\"og:site_name\",\"content\":\"Ryan's Notebook\"}],[\"meta\",{\"property\":\"og:title\",\"content\":\"9.Ceph crush算法进阶\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"场景：集群内有固态和机械硬盘 如何让不重要的业务放到机械盘。 Ceph 集群中由 mon 服务器维护的的五种运行图: Monitor map 监视器运行图 OSD map OSD运行图 各个每隔6s汇报状态同时监控其他OSD的状态，超过20秒就会被踢出去 PG map PG运行图 （一个存储池有哪些pg） Crush map (Controllers replication under scalable hashing) 可控的、可复制的、可伸缩的一致性hash算法。crush运行图，当新建存储池时会基于OSD map创建出新的PG组合列表用于存储数据 MDS map cephfs metadata运行图\"}],[\"meta\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"zh-CN\"}],[\"meta\",{\"property\":\"og:updated_time\",\"content\":\"2023-05-02T00:25:35.000Z\"}],[\"meta\",{\"property\":\"article:tag\",\"content\":\"分布式存储\"}],[\"meta\",{\"property\":\"article:published_time\",\"content\":\"2023-01-07T12:12:22.000Z\"}],[\"meta\",{\"property\":\"article:modified_time\",\"content\":\"2023-05-02T00:25:35.000Z\"}],[\"script\",{\"type\":\"application/ld+json\"},\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Article\\\",\\\"headline\\\":\\\"9.Ceph crush算法进阶\\\",\\\"image\\\":[\\\"\\\"],\\\"datePublished\\\":\\\"2023-01-07T12:12:22.000Z\\\",\\\"dateModified\\\":\\\"2023-05-02T00:25:35.000Z\\\",\\\"author\\\":[]}\"]]},\"headers\":[{\"level\":2,\"title\":\"9.1  PG与OSD映射调整\",\"slug\":\"_9-1-pg与osd映射调整\",\"link\":\"#_9-1-pg与osd映射调整\",\"children\":[{\"level\":3,\"title\":\"9.1.1 查看当前状态\",\"slug\":\"_9-1-1-查看当前状态\",\"link\":\"#_9-1-1-查看当前状态\",\"children\":[]},{\"level\":3,\"title\":\"9.1.2 修改WEIGHT并验证\",\"slug\":\"_9-1-2-修改weight并验证\",\"link\":\"#_9-1-2-修改weight并验证\",\"children\":[]},{\"level\":3,\"title\":\"9.1.3 修改 REWEIGHT 并验证\",\"slug\":\"_9-1-3-修改-reweight-并验证\",\"link\":\"#_9-1-3-修改-reweight-并验证\",\"children\":[]}]},{\"level\":2,\"title\":\"9.2   crush运行图管理\",\"slug\":\"_9-2-crush运行图管理\",\"link\":\"#_9-2-crush运行图管理\",\"children\":[{\"level\":3,\"title\":\"9.2.1 导出crush运行图\",\"slug\":\"_9-2-1-导出crush运行图\",\"link\":\"#_9-2-1-导出crush运行图\",\"children\":[]},{\"level\":3,\"title\":\"9.2.2 将运行图转换为文本:\",\"slug\":\"_9-2-2-将运行图转换为文本\",\"link\":\"#_9-2-2-将运行图转换为文本\",\"children\":[]},{\"level\":3,\"title\":\"9.2.3 编辑文本\",\"slug\":\"_9-2-3-编辑文本\",\"link\":\"#_9-2-3-编辑文本\",\"children\":[]},{\"level\":3,\"title\":\"9.2.3 将文本转换为crush格式\",\"slug\":\"_9-2-3-将文本转换为crush格式\",\"link\":\"#_9-2-3-将文本转换为crush格式\",\"children\":[]},{\"level\":3,\"title\":\"9.2.4 导入新的crush\",\"slug\":\"_9-2-4-导入新的crush\",\"link\":\"#_9-2-4-导入新的crush\",\"children\":[]},{\"level\":3,\"title\":\"9.2.5 验证crush运行图是否生效\",\"slug\":\"_9-2-5-验证crush运行图是否生效\",\"link\":\"#_9-2-5-验证crush运行图是否生效\",\"children\":[]}]},{\"level\":2,\"title\":\"9.3 crush数据分类管理\",\"slug\":\"_9-3-crush数据分类管理\",\"link\":\"#_9-3-crush数据分类管理\",\"children\":[{\"level\":3,\"title\":\"9.3.1 导出cursh运行图\",\"slug\":\"_9-3-1-导出cursh运行图\",\"link\":\"#_9-3-1-导出cursh运行图\",\"children\":[]},{\"level\":3,\"title\":\"9.3.2 将运行图转换为文本\",\"slug\":\"_9-3-2-将运行图转换为文本\",\"link\":\"#_9-3-2-将运行图转换为文本\",\"children\":[]},{\"level\":3,\"title\":\"9.3.3 添加自定义配置\",\"slug\":\"_9-3-3-添加自定义配置\",\"link\":\"#_9-3-3-添加自定义配置\",\"children\":[]},{\"level\":3,\"title\":\"9.3.4 转换为crush二进制格式\",\"slug\":\"_9-3-4-转换为crush二进制格式\",\"link\":\"#_9-3-4-转换为crush二进制格式\",\"children\":[]},{\"level\":3,\"title\":\"9.3.5 导入新的crush运行图\",\"slug\":\"_9-3-5-导入新的crush运行图\",\"link\":\"#_9-3-5-导入新的crush运行图\",\"children\":[]},{\"level\":3,\"title\":\"9.3.6 验证crush运行图是否生效\",\"slug\":\"_9-3-6-验证crush运行图是否生效\",\"link\":\"#_9-3-6-验证crush运行图是否生效\",\"children\":[]},{\"level\":3,\"title\":\"9.3.7 测试创建存储池\",\"slug\":\"_9-3-7-测试创建存储池\",\"link\":\"#_9-3-7-测试创建存储池\",\"children\":[]},{\"level\":3,\"title\":\"9.3.8 验证pgp状态\",\"slug\":\"_9-3-8-验证pgp状态\",\"link\":\"#_9-3-8-验证pgp状态\",\"children\":[]}]}],\"readingTime\":{\"minutes\":10.05,\"words\":3014},\"filePathRelative\":\"ceph/log/9. ceph-crush进阶.md\",\"localizedDate\":\"2023年1月7日\",\"excerpt\":\"<p>场景：集群内有固态和机械硬盘 如何让不重要的业务放到机械盘。 <br><img src=\\\"http://cdn1.ryanxin.live/xxlog/1670239925327-b0a6d81f-d49f-457f-ab71-329245a2c645.png\\\" alt=\\\"image.png\\\" loading=\\\"lazy\\\"></p>\\n<p><strong>Ceph 集群中由 mon 服务器维护的的五种运行图</strong>:</p>\\n<ul>\\n<li>Monitor map  监视器运行图</li>\\n<li>OSD map  OSD运行图   各个每隔6s汇报状态同时监控其他OSD的状态，超过20秒就会被踢出去</li>\\n<li>PG map  PG运行图   （一个存储池有哪些pg）</li>\\n<li>Crush map  (Controllers replication under scalable hashing)  可控的、可复制的、可伸缩的一致性hash算法。crush运行图，当新建存储池时会基于OSD map创建出新的PG组合列表用于存储数据</li>\\n<li>MDS map  cephfs metadata运行图</li>\\n</ul>\",\"autoDesc\":true,\"git\":{\"createdTime\":1682693518000,\"updatedTime\":1682987135000,\"contributors\":[{\"name\":\"ryanxin7\",\"email\":\"xinxincn0506@outlook.com\",\"commits\":2}]}}")
