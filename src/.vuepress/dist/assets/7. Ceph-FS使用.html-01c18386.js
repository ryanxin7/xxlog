const e=JSON.parse(`{"key":"v-1900f781","path":"/ceph/log/7.%20Ceph-FS%E4%BD%BF%E7%94%A8.html","title":"7.Ceph FS","lang":"zh-CN","frontmatter":{"Author":"Ryan","title":"7.Ceph FS","tag":["分布式存储"],"category":["Ceph"],"date":"2023-01-06T12:12:22.000Z","lastUpdated":true,"breadcrumb":false,"description":"ceph FS即ceph filesystem，可以实现文件系统共享功能，客户端通过ceph协议挂载并使用ceph集群作为数据存储服务器。 （类似NFS） Ceph FS需要运行Meta Data Services(MDS)服务，其守护进程为ceph-mds, ceph-mds进程管理与Ceph FS上存储的文件相关的元数据，并协调对ceph存储集群的访问。http://docs.ceph.org.cn/cephfs/Ceph FS的元数据使用的动态子树分区,把元数据划分名称空间对应到不同的mds,写入元数据的时候将元数据按照名称保存到不同主mds上，有点类似于nginx中的缓存目录分层一样。但是最终元数据都会保存在ceph 元数据池中。","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/ceph/log/7.%20Ceph-FS%E4%BD%BF%E7%94%A8.html"}],["meta",{"property":"og:site_name","content":"Ryan's Notebook"}],["meta",{"property":"og:title","content":"7.Ceph FS"}],["meta",{"property":"og:description","content":"ceph FS即ceph filesystem，可以实现文件系统共享功能，客户端通过ceph协议挂载并使用ceph集群作为数据存储服务器。 （类似NFS） Ceph FS需要运行Meta Data Services(MDS)服务，其守护进程为ceph-mds, ceph-mds进程管理与Ceph FS上存储的文件相关的元数据，并协调对ceph存储集群的访问。http://docs.ceph.org.cn/cephfs/Ceph FS的元数据使用的动态子树分区,把元数据划分名称空间对应到不同的mds,写入元数据的时候将元数据按照名称保存到不同主mds上，有点类似于nginx中的缓存目录分层一样。但是最终元数据都会保存在ceph 元数据池中。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-02T00:25:35.000Z"}],["meta",{"property":"article:tag","content":"分布式存储"}],["meta",{"property":"article:published_time","content":"2023-01-06T12:12:22.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-02T00:25:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"7.Ceph FS\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-06T12:12:22.000Z\\",\\"dateModified\\":\\"2023-05-02T00:25:35.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"7.1 部署MDS 服务","slug":"_7-1-部署mds-服务","link":"#_7-1-部署mds-服务","children":[]},{"level":2,"title":"7.2 创建CephFS metadata和data存储池","slug":"_7-2-创建cephfs-metadata和data存储池","link":"#_7-2-创建cephfs-metadata和data存储池","children":[]},{"level":2,"title":"7.3 创建cephFS并验证","slug":"_7-3-创建cephfs并验证","link":"#_7-3-创建cephfs并验证","children":[]},{"level":2,"title":"7.4 验证cepfFS服务状态","slug":"_7-4-验证cepffs服务状态","link":"#_7-4-验证cepffs服务状态","children":[]},{"level":2,"title":"7.5 创建客户端账户","slug":"_7-5-创建客户端账户","link":"#_7-5-创建客户端账户","children":[]},{"level":2,"title":"7.6 安装ceph客户端","slug":"_7-6-安装ceph客户端","link":"#_7-6-安装ceph客户端","children":[]},{"level":2,"title":"7.7 同步客户端认证文件","slug":"_7-7-同步客户端认证文件","link":"#_7-7-同步客户端认证文件","children":[]},{"level":2,"title":"7.8 客户端验证权限","slug":"_7-8-客户端验证权限","link":"#_7-8-客户端验证权限","children":[]},{"level":2,"title":"7.9 内核空间挂载ceph-fs","slug":"_7-9-内核空间挂载ceph-fs","link":"#_7-9-内核空间挂载ceph-fs","children":[{"level":3,"title":"7.9.1 客户端通过key文件挂载","slug":"_7-9-1-客户端通过key文件挂载","link":"#_7-9-1-客户端通过key文件挂载","children":[]},{"level":3,"title":"7.9.2 客户端通过key挂载","slug":"_7-9-2-客户端通过key挂载","link":"#_7-9-2-客户端通过key挂载","children":[]},{"level":3,"title":"7.9.3 开机挂载","slug":"_7-9-3-开机挂载","link":"#_7-9-3-开机挂载","children":[]},{"level":3,"title":"7.9.4 客户端模块","slug":"_7-9-4-客户端模块","link":"#_7-9-4-客户端模块","children":[]}]},{"level":2,"title":"7.10 用户空间挂载ceph-fs","slug":"_7-10-用户空间挂载ceph-fs","link":"#_7-10-用户空间挂载ceph-fs","children":[{"level":3,"title":"7.10.1 安装ceph-fuse","slug":"_7-10-1-安装ceph-fuse","link":"#_7-10-1-安装ceph-fuse","children":[]},{"level":3,"title":"7.10.2 ceph-fuse 挂载","slug":"_7-10-2-ceph-fuse-挂载","link":"#_7-10-2-ceph-fuse-挂载","children":[]}]},{"level":2,"title":"7.11 ceph mds高可用","slug":"_7-11-ceph-mds高可用","link":"#_7-11-ceph-mds高可用","children":[{"level":3,"title":"7.11.1 当前mds服务器状态","slug":"_7-11-1-当前mds服务器状态","link":"#_7-11-1-当前mds服务器状态","children":[]},{"level":3,"title":"7.11.2 添加MDS服务器","slug":"_7-11-2-添加mds服务器","link":"#_7-11-2-添加mds服务器","children":[]},{"level":3,"title":"7.11.3 验证ceph集群当前状态","slug":"_7-11-3-验证ceph集群当前状态","link":"#_7-11-3-验证ceph集群当前状态","children":[]},{"level":3,"title":"7.11.4 当前的文件系统状态","slug":"_7-11-4-当前的文件系统状态","link":"#_7-11-4-当前的文件系统状态","children":[]},{"level":3,"title":"7.11.5 设置处于激活状态的mds的数量","slug":"_7-11-5-设置处于激活状态的mds的数量","link":"#_7-11-5-设置处于激活状态的mds的数量","children":[]},{"level":3,"title":"7.11.6 MDS高可用优化","slug":"_7-11-6-mds高可用优化","link":"#_7-11-6-mds高可用优化","children":[]},{"level":3,"title":"7.11.7 分发配置文件并重启mds服务","slug":"_7-11-7-分发配置文件并重启mds服务","link":"#_7-11-7-分发配置文件并重启mds服务","children":[]},{"level":3,"title":"7.11.8 ceph集群mds高可用状态","slug":"_7-11-8-ceph集群mds高可用状态","link":"#_7-11-8-ceph集群mds高可用状态","children":[]}]},{"level":2,"title":"7.12 通过ganesha将cephfs导出为NFS","slug":"_7-12-通过ganesha将cephfs导出为nfs","link":"#_7-12-通过ganesha将cephfs导出为nfs","children":[{"level":3,"title":"7.12.1 服务端配置","slug":"_7-12-1-服务端配置","link":"#_7-12-1-服务端配置","children":[]},{"level":3,"title":"7.12.2 客户端挂载测试","slug":"_7-12-2-客户端挂载测试","link":"#_7-12-2-客户端挂载测试","children":[]}]}],"readingTime":{"minutes":8.92,"words":2676},"filePathRelative":"ceph/log/7. Ceph-FS使用.md","localizedDate":"2023年1月6日","excerpt":"<p>ceph FS即<strong>ceph filesystem</strong>，<strong>可以实现文件系统共享功能</strong>，客户端通过ceph协议挂载并使用ceph集群作为数据存储服务器。 （类似NFS）</p>\\n<p><strong>Ceph FS需要运行Meta Data Services(MDS)服务</strong>，其守护进程为<strong>ceph-mds</strong>, <strong>ceph-mds</strong><br>进程管理与Ceph FS上存储的文件相关的元数据，并协调对ceph存储集群的访问。<br><a href=\\"http://docs.ceph.org.cn/cephfs/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://docs.ceph.org.cn/cephfs/</a><br><strong>Ceph FS</strong>的元数据使用的动态子树分区,把元数据划分名称空间对应到不同的mds,写入元数据的时候将元数据按照名称保存到不同主mds上，有点类似于nginx中的缓存目录分层一样。但是最终元数据都会保存在ceph 元数据池中。</p>","autoDesc":true,"git":{"createdTime":1682693518000,"updatedTime":1682987135000,"contributors":[{"name":"ryanxin7","email":"xinxincn0506@outlook.com","commits":2}]}}`);export{e as data};
